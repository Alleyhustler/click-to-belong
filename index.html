<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Initiation Ritual</title>
    <style>
        :root {
            --bg-dark: #0a0a0a;
            --text-primary: #e0e0e0;
            --text-secondary: #888;
            --accent: #3a3a3a;
            --border: #222;
            --cursor: #0f0;
            --highlight: rgba(255, 255, 255, 0.05);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        
        body {
            background-color: var(--bg-dark);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        /* Top Navigation */
        .top-nav {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .x-link {
            color: var(--text-primary);
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: bold;
            padding: 10px;
            border: 1px solid var(--border);
            background: rgba(10, 10, 10, 0.8);
            transition: var(--transition);
        }
        
        .x-link:hover {
            background: var(--highlight);
            border-color: var(--text-primary);
        }
        
        /* Landing Page */
        #landing {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            padding: 2rem;
            position: relative;
        }
        
        .rotating-image {
            width: 320px;
            height: 220px;
            margin-bottom: 2rem;
            animation: luxuriousPendulum 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            opacity: 0;
            transform: scale(0.5);
            transition: all 1s ease-out;
            transform-origin: center;
        }
        
        .rotating-image.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        @keyframes luxuriousPendulum {
            0% {
                transform: rotate(-25deg) scale(1);
            }
            25% {
                transform: rotate(0deg) scale(1.05);
            }
            50% {
                transform: rotate(25deg) scale(1);
            }
            75% {
                transform: rotate(0deg) scale(1.05);
            }
            100% {
                transform: rotate(-25deg) scale(1);
            }
        }
        
        #landing-text {
            font-size: 1.5rem;
            margin-bottom: 3rem;
            position: relative;
            height: 2rem;
        }
        
        #landing-text::after {
            content: "|";
            position: absolute;
            right: -0.5rem;
            color: var(--cursor);
            animation: blink 1s step-end infinite;
        }
        
        @keyframes blink {
            from, to { opacity: 1; }
            50% { opacity: 0; }
        }
        
        #initiate-btn {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--text-primary);
            padding: 1rem 2rem;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            position: relative;
            overflow: hidden;
        }
        
        #initiate-btn:hover {
            background: var(--highlight);
        }
        
        #initiate-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: 0.5s;
        }
        
        #initiate-btn:hover::before {
            left: 100%;
        }
        
        /* Portal Page */
        #portal {
            display: none;
            height: 100vh;
            width: 100vw;
        }
        
        .split-view {
            display: flex;
            height: 100%;
        }
        
        .timeline {
            width: 50%;
            overflow-y: auto;
            padding: 2rem;
            border-right: 1px solid var(--border);
            scrollbar-width: none;
        }
        
        .timeline::-webkit-scrollbar {
            display: none;
        }
        
        .timeline-item {
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(20px);
            transition: var(--transition);
        }
        
        .timeline-image {
            max-width: 100%;
            margin-bottom: 1rem;
            border: 1px solid var(--border);
        }
        
        .timeline-quote {
            font-style: italic;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        
        .chat-log {
            width: 50%;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .messages {
            height: calc(100% - 100px);
            overflow-y: auto;
            scrollbar-width: none;
        }
        
        .messages::-webkit-scrollbar {
            display: none;
        }
        
        .message {
            margin-bottom: 1.5rem;
            opacity: 0;
            transform: translateY(10px);
            transition: var(--transition);
        }
        
        .message-typing {
            display: inline-block;
        }
        
        .message-typing::after {
            content: "‚ñå";
            color: var(--cursor);
            animation: blink 1s step-end infinite;
        }
        
        .options {
            margin-top: 2rem;
            display: flex;
            gap: 1rem;
        }
        
        .option-btn {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--border);
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: var(--transition);
            flex: 1;
            text-align: center;
        }
        
        .option-btn:hover {
            background: var(--highlight);
        }
        
        /* Terminal Mode */
        .terminal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-dark);
            padding: 2rem;
            z-index: 100;
        }
        
        .terminal-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }
        
        .terminal-close {
            cursor: pointer;
        }
        
        .terminal-body {
            height: calc(100% - 3rem);
            overflow-y: auto;
        }
        
        .command-line {
            display: flex;
            margin-bottom: 0.5rem;
        }
        
        .prompt {
            margin-right: 0.5rem;
            color: var(--cursor);
        }
        
        .command-input {
            background: transparent;
            border: none;
            color: var(--text-primary);
            flex: 1;
            font-family: 'Courier New', monospace;
            outline: none;
        }
        
        .command-output {
            margin-bottom: 1rem;
            white-space: pre-wrap;
        }
        
        /* Transition effects */
        .fade-in {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .split-view {
                flex-direction: column;
            }
            
            .timeline, .chat-log {
                width: 100%;
                height: 50%;
            }
            
            .timeline {
                border-right: none;
                border-bottom: 1px solid var(--border);
            }
            
            .rotating-image {
                width: 80px;
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <div class="top-nav">
        <a href="https://x.com/clicktobelong" class="x-link" target="_blank">ùïè</a>
    </div>
    
    <!-- Landing Page -->
    <div id="landing">
        <div class="rotating-image" id="rotating-logo">
            <img id="logo-png" alt="Initiation Symbol" width="220" height="220" />
        </div>
        <div id="landing-text"></div>
        <button id="initiate-btn">[Click to Belong]</button>
    </div>
    
    <!-- Portal Page -->
    <div id="portal">
        <div class="split-view">
            <div class="timeline" id="timeline">
                <!-- Timeline items will be added dynamically -->
            </div>
            
            <div class="chat-log">
                <div class="messages" id="messages">
                    <!-- Messages will be added dynamically -->
                </div>
                
                <div class="options" id="options">
                    <!-- Options will be added dynamically -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Terminal Mode -->
    <div class="terminal" id="terminal">
        <div class="terminal-header">
            <span>Initiation Terminal v1.0.3</span>
            <span class="terminal-close" id="terminal-close">[close]</span>
        </div>
        <div class="terminal-body" id="terminal-body">
            <div class="command-output">Type './help' for available commands</div>
            <div class="command-line">
                <span class="prompt">>></span>
                <input type="text" class="command-input" id="terminal-input">
            </div>
        </div>
    </div>
    
    <script>
        // Landing page animation
        const landingText = document.getElementById('landing-text');
        const initiateBtn = document.getElementById('initiate-btn');
        const portal = document.getElementById('portal');
        const rotatingLogo = document.getElementById('rotating-logo');
        
        const fullText = "You are either in‚Ä¶ or watching.";
        let charIndex = 0;
        
        // Generate PNG logo
        function createLogoPNG() {
            const canvas = document.createElement('canvas');
            canvas.width = 120;
            canvas.height = 120;
            const ctx = canvas.getContext('2d');
            
            // Set transparent background
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = 60;
            const centerY = 60;
            
            // Create gradient
            const gradient = ctx.createLinearGradient(0, 0, 120, 120);
            gradient.addColorStop(0, '#e0e0e0');
            gradient.addColorStop(0.5, '#888');
            gradient.addColorStop(1, '#e0e0e0');
            
            // Outer circle
            ctx.strokeStyle = gradient;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(centerX, centerY, 55, 0, 2 * Math.PI);
            ctx.stroke();
            
            // Inner hexagon
            ctx.strokeStyle = gradient;
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(centerX, 20);
            ctx.lineTo(95, 50);
            ctx.lineTo(95, 70);
            ctx.lineTo(centerX, 100);
            ctx.lineTo(25, 70);
            ctx.lineTo(25, 50);
            ctx.closePath();
            ctx.stroke();
            
            // Center circle
            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(centerX, centerY, 8, 0, 2 * Math.PI);
            ctx.fill();
            
            // Radiating lines
            ctx.strokeStyle = gradient;
            ctx.lineWidth = 1;
            ctx.globalAlpha = 0.6;
            
            const lines = [
                [60, 10, 60, 25],
                [60, 95, 60, 110],
                [10, 60, 25, 60],
                [95, 60, 110, 60],
                [25.86, 25.86, 36.72, 36.72],
                [83.28, 83.28, 94.14, 94.14],
                [94.14, 25.86, 83.28, 36.72],
                [36.72, 83.28, 25.86, 94.14]
            ];
            
            lines.forEach(line => {
                ctx.beginPath();
                ctx.moveTo(line[0], line[1]);
                ctx.lineTo(line[2], line[3]);
                ctx.stroke();
            });
            
            ctx.globalAlpha = 1;
            
            return canvas.toDataURL('image/png');
        }
        
        // Set the PNG logo
        document.getElementById('logo-png').src = 'a.png';
        
        // Show rotating logo immediately
        setTimeout(() => {
            rotatingLogo.classList.add('visible');
        }, 200);
        
        function typeWriter() {
            if (charIndex < fullText.length) {
                landingText.textContent = fullText.substring(0, charIndex + 1);
                charIndex++;
                setTimeout(typeWriter, Math.random() * 60 + 30); // Faster typing
            } else {
                initiateBtn.style.opacity = '1';
                initiateBtn.style.transform = 'translateY(0)';
            }
        }
        
        // Start typing animation faster
        setTimeout(typeWriter, 800);
        
        // Initiate button click
        initiateBtn.addEventListener('click', () => {
            document.getElementById('landing').style.display = 'none';
            portal.style.display = 'block';
            
            // Load portal content
            loadTimeline();
            startChat();
        });
        
        // Timeline content
        const timelineItems = [
            {
                image: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjEwIj48L2NpcmNsZT48cGF0aCBkPSJNMTYgMTBsLTQgNC00LTQiPjwvcGF0aD48L3N2Zz4=',
                quote: "The first rule is there are no rules. The second rule is you already broke the first."
            },
            {
                image: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0xOCA2TDYgMTgiPjwvcGF0aD48cGF0aCBkPSJNNiA2bDEyIDEyIj48L3BhdGg+PC9zdmc+',
                quote: "They told you not to click. You clicked anyway. This is why you belong."
            },
            {
                image: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0xMiAyYTUgNSAwIDAgMSA0LjM0MyA3LjVsMi40MDctMi40MDdhOSA5IDAgMSAwLTEzLjUgMGwyLjQwNyAyLjQwN0E1IDUgMCAwIDEgMTIgMloiPjwvcGF0aD48cGF0aCBkPSJNMTIgNnYyIj48L3BhdGg+PC9zdmc+',
                quote: "What is a name but noise given meaning by those who hear it?"
            }
        ];
        
        function loadTimeline() {
            const timeline = document.getElementById('timeline');
            
            timelineItems.forEach((item, index) => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                timelineItem.innerHTML = `
                    <img src="${item.image}" class="timeline-image" alt="Symbol">
                    <p class="timeline-quote">"${item.quote}"</p>
                `;
                timeline.appendChild(timelineItem);
                
                setTimeout(() => {
                    timelineItem.classList.add('fade-in');
                }, 500 * (index + 1));
            });
            
            // Add some empty space at the bottom
            const spacer = document.createElement('div');
            spacer.style.height = '100px';
            timeline.appendChild(spacer);
        }
        
        // Chat sequence
        const chatMessages = [
            { text: "Welcome, initiate.", delay: 1000 },
            { text: "You've passed the first threshold.", delay: 1500 },
            { text: "But belonging requires more than curiosity.", delay: 2000 },
            { text: "What do you know about Belonging?", delay: 2500, isQuestion: true, options: ["It's a choice", "It's an illusion", "I don't know"] },
            { text: "Interesting. But incomplete.", delay: 2000 },
            { text: "Would you sacrifice your name for a Coin?", delay: 2500, isQuestion: true, options: ["Yes, I belong", "No, I observe"] }
        ];
        
        function startChat() {
            const messagesContainer = document.getElementById('messages');
            const optionsContainer = document.getElementById('options');
            
            let messageIndex = 0;
            
            function showNextMessage() {
                if (messageIndex >= chatMessages.length) return;
                
                const messageData = chatMessages[messageIndex];
                
                if (messageData.isQuestion) {
                    // Clear previous options
                    optionsContainer.innerHTML = '';
                    
                    const messageElement = document.createElement('div');
                    messageElement.className = 'message';
                    messageElement.innerHTML = `<div class="message-text">${messageData.text}</div>`;
                    messagesContainer.appendChild(messageElement);
                    
                    setTimeout(() => {
                        messageElement.classList.add('fade-in');
                        
                        // Add options
                        messageData.options.forEach(optionText => {
                            const optionBtn = document.createElement('button');
                            optionBtn.className = 'option-btn';
                            optionBtn.textContent = optionText;
                            optionBtn.addEventListener('click', () => {
                                const responseElement = document.createElement('div');
                                responseElement.className = 'message';
                                responseElement.innerHTML = `<div class="message-text">${optionText}</div>`;
                                messagesContainer.appendChild(responseElement);
                                responseElement.classList.add('fade-in');
                                
                                // Special handling for final options
                                if (messageIndex === chatMessages.length - 1) {
                                    if (optionText === "Yes, I belong") {
                                        setTimeout(() => {
                                            const finalMessage = document.createElement('div');
                                            finalMessage.className = 'message';
                                            finalMessage.innerHTML = `<div class="message-text">Then you shall receive your mark.</div>`;
                                            messagesContainer.appendChild(finalMessage);
                                            finalMessage.classList.add('fade-in');
                                            
                                            // Generate passcard
                                            setTimeout(() => {
                                                generatePasscard();
                                            }, 1500);
                                        }, 1000);
                                    } else {
                                        setTimeout(() => {
                                            const finalMessage = document.createElement('div');
                                            finalMessage.className = 'message';
                                            finalMessage.innerHTML = `<div class="message-text">Observation is also a form of belonging. You may stay.</div>`;
                                            messagesContainer.appendChild(finalMessage);
                                            finalMessage.classList.add('fade-in');
                                        }, 1000);
                                    }
                                }
                                
                                // Scroll to bottom
                                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                                
                                // Continue with next message
                                messageIndex++;
                                setTimeout(showNextMessage, messageData.delay);
                            });
                            optionsContainer.appendChild(optionBtn);
                        });
                    }, 300);
                } else {
                    const messageElement = document.createElement('div');
                    messageElement.className = 'message';
                    
                    if (messageIndex === chatMessages.length - 1) {
                        // Last message is a question, shouldn't get here
                        messageIndex++;
                        showNextMessage();
                        return;
                    }
                    
                    messageElement.innerHTML = `<div class="message-text">${messageData.text}</div>`;
                    messagesContainer.appendChild(messageElement);
                    
                    setTimeout(() => {
                        messageElement.classList.add('fade-in');
                        messageIndex++;
                        showNextMessage();
                    }, 300);
                }
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            showNextMessage();
        }
        
        function generatePasscard() {
            const messagesContainer = document.getElementById('messages');
            
            // Create a canvas for the passcard
            const canvas = document.createElement('canvas');
            canvas.width = 400;
            canvas.height = 200;
            const ctx = canvas.getContext('2d');
            
            // Design the passcard
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 2;
            ctx.strokeRect(5, 5, canvas.width - 10, canvas.height - 10);
            
            ctx.font = '20px Courier New';
            ctx.fillStyle = '#e0e0e0';
            ctx.fillText('BELONGER PASSCARD', 20, 40);
            
            ctx.font = '16px Courier New';
            ctx.fillText('Initiate #' + Math.floor(Math.random() * 10000), 20, 80);
            
            ctx.font = '14px Courier New';
            ctx.fillText('Access: Unlimited', 20, 120);
            ctx.fillText('Status: Active', 20, 150);
            
            // Add some decorative elements
            ctx.beginPath();
            ctx.moveTo(300, 30);
            ctx.lineTo(380, 30);
            ctx.lineTo(380, 180);
            ctx.lineTo(300, 180);
            ctx.closePath();
            ctx.stroke();
            
            // Convert to data URL
            const dataUrl = canvas.toDataURL('image/png');
            
            // Show download option
            const passcardMessage = document.createElement('div');
            passcardMessage.className = 'message';
            passcardMessage.innerHTML = `
                <div class="message-text">
                    <p>Your passcard is ready.</p>
                    <a href="${dataUrl}" download="belonger_passcard.png" style="color: #e0e0e0; text-decoration: underline;">Download Passcard</a>
                    <p style="font-size: 0.8rem; color: #888; margin-top: 0.5rem;">This is your mark. Keep it safe.</p>
                </div>
            `;
            messagesContainer.appendChild(passcardMessage);
            passcardMessage.classList.add('fade-in');
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        // Terminal functionality
        const terminal = document.getElementById('terminal');
        const terminalClose = document.getElementById('terminal-close');
        const terminalInput = document.getElementById('terminal-input');
        const terminalBody = document.getElementById('terminal-body');
        
        // Toggle terminal with Ctrl+Alt+T
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.altKey && e.key === 't') {
                terminal.style.display = 'block';
                terminalInput.focus();
            }
        });
        
        terminalClose.addEventListener('click', () => {
            terminal.style.display = 'none';
        });
        
        terminalInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const command = terminalInput.value.trim();
                terminalInput.value = '';
                
                // Add command to output
                const commandLine = document.createElement('div');
                commandLine.className = 'command-line';
                commandLine.innerHTML = `
                    <span class="prompt">>></span>
                    <span>${command}</span>
                `;
                terminalBody.insertBefore(commandLine, terminalBody.lastElementChild);
                
                // Process command
                let output = '';
                
                switch (command) {
                    case './help':
                        output = `Available commands:
./initiate - Begin the ritual
./whoami - Check your status
./leave - Exit the terminal
./mintpass - Generate a passcard`;
                        break;
                    case './initiate':
                        output = `Initiation sequence already in progress.`;
                        break;
                    case './whoami':
                        output = `You are the ${Math.floor(Math.random() * 10000)}th Belonger. You belong.`;
                        break;
                    case './leave':
                        terminal.style.display = 'none';
                        return;
                    case './mintpass':
                        output = `Generating passcard... Done.`;
                        setTimeout(() => {
                            generatePasscard();
                        }, 500);
                        break;
                    default:
                        output = `Command not recognized. Type ./help for available commands.`;
                }
                
                const outputElement = document.createElement('div');
                outputElement.className = 'command-output';
                outputElement.textContent = output;
                terminalBody.insertBefore(outputElement, terminalBody.lastElementChild);
                
                // Scroll to bottom
                terminalBody.scrollTop = terminalBody.scrollHeight;
            }
        });
        
        // Easter egg - click 3 times on the timeline title
        let clickCount = 0;
        document.addEventListener('click', (e) => {
            if (e.target.id === 'timeline' || e.target.className.includes('timeline-item')) {
                clickCount++;
                if (clickCount === 3) {
                    // Show secret message
                    const messagesContainer = document.getElementById('messages');
                    const secretMessage = document.createElement('div');
                    secretMessage.className = 'message';
                    secretMessage.innerHTML = `<div class="message-text">You found the hidden truth. But can you handle it?</div>`;
                    messagesContainer.appendChild(secretMessage);
                    secretMessage.classList.add('fade-in');
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    
                    // Reset count
                    clickCount = 0;
                }
                
                // Reset count after 2 seconds
                setTimeout(() => {
                    clickCount = 0;
                }, 2000);
            }
        });
    </script>
</body>
</html>